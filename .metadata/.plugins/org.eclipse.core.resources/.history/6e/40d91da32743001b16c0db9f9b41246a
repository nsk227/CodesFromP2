package com.amazonsearch.tests;

import java.io.IOException;
import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;

import com.dbconnection.AddProduct;

public class SearchList {
	public static void main(String[] args) throws InterruptedException, IOException {
		System.setProperty("webdriver.chrome.driver", "./drivers/chromedriver");
		WebDriver driver = new ChromeDriver();
		driver.get("https://amazon.com");
		driver.manage().window().maximize();
		// Wait time to keyin characters, if application demands to verify characters
		// for robot verification
		Thread.sleep(15000);
		WebElement searchbox = driver.findElement(By.id("twotabsearchtextbox"));
		searchbox.sendKeys("mt everest picture" + "\n");
		WebElement checkbox = driver.findElement(By.xpath("//*[@id=\"p_76/1249155011\"]/span/a/div[1]/label/i"));
		checkbox.click();
		Thread.sleep(3000);
		WebElement minprice = driver.findElement(By.name("low-price"));
		minprice.sendKeys("35");
		// Thread.sleep (2000);
		WebElement maxprice = driver.findElement(By.cssSelector("#high-price"));
		maxprice.sendKeys("40");
		WebElement submitbtn = driver.findElement(By.className("a-button-input"));
		submitbtn.click();
		Thread.sleep(2000);
		List<WebElement> itemselected = driver.findElements(By.className("s-image"));
		//for (int i = 0; i <= itemselected.size(); i++) {
			String ProductName = itemselected.get
			System.out.println(ProductName);
			AddProduct.insertProduct(ProductName);
		}
		/*
		 * for (WebElement lists : itemselected) {
		 * System.out.println(lists.getAttribute("alt"));
		 */
	}
}
