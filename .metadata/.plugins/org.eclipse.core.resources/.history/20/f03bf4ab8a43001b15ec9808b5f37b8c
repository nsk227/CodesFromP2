package com.dbconnection;
import java.io.IOException;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

import com.utils.PropertyReader;



public class AddProduct {


	public static void insertProduct (String ProductName) throws IOException {
		
	 DBConnection conn;
		try {
			
			/*conn = new DBConnection(PropertyReader.ReadProperty("url"), PropertyReader.ReadProperty("userid"), PropertyReader.ReadProperty("password"));
			Statement stmt = conn.getConnection().createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);
         stmt.executeUpdate("insert into onlineproducts (ProductName) values (ProductName);");
         ResultSet rst = stmt.executeQuery("select * from onlineproducts");            
         while (rst.next()) {
                 System.out.println(rst.getInt("ID") + ", " + rst.getString("ProductName") + ", " +" <Br>");
         }            
         stmt.close();
	        conn.closeConnection();*/
			
			conn = new DBConnection(PropertyReader.ReadProperty("url"), PropertyReader.ReadProperty("userid"),
					PropertyReader.ReadProperty("password"));
			PreparedStatement stmt = conn.getConnection().prepareStatement("insert into onlineproducts (ProductName) values (?)");
			//stmt.setInt(1, 6);
			//stmt.setString(1, "HandCraft Bullet Whiskey Glasses");
			//stmt.setString(1, AmazonSearch.PName);
			stmt.setString(1, ProductName);
			//stmt.setBigDecimal(2, new BigDecimal(39.99));
			//stmt.setInt(3, 6);
			//stmt.setBoolean(4, false);
			//stmt.setDate(5, null, null);
			  stmt.executeUpdate();
			ResultSet rst = stmt.executeQuery("select * from onlineproducts");
			while (rst.next()) {
				System.out.println(rst.getInt("ID")+ rst.getString("ProductName")+ "<Br>");
			}
			stmt.close();
			conn.closeConnection();
	       
		} catch (ClassNotFoundException | SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		}
		
		public static void main (String[] args, String ProductName) throws IOException {
			
					insertProduct(ProductName);
		}
			
		}
		
